Surnames = ['Ko', 'Fu', 'Galli', 'Alonso', 'Allen', 'Takács', 'Robinson', 'Mamedov', 'Lomidze', 'Varga', 'Tsui', 'Fehér', 'Kang', 'Nelson', 'Ahn', 'Anderson', 'Németh', 'Tabatadze', 'Miller', 'Jackson', 'Zhang', 'Bairamov', 'Kwok', 'Yeung', ' Sohn', 'Castro', 'Jang', 'Abuladze', 'Gogoladze', 'Villanueva', 'Giorgadze', 'Rácz', 'Clark', 'Kowalczyk', 'Wisniewski', 'Martin', 'Beridze', 'Kaminski', 'Krawczyk', 'Walker', 'Young', 'Szabó', 'Chow', 'Fernandez', 'Mazur', 'Garcia', 'Rivera', 'López', 'Reyes', 'Kicsi', 'Brown', 'Bairamovi', 'Hong', 'Nowak', 'Wong', 'Harris', 'Díaz', 'Yang', 'Kwiatkowski', 'Bolkvadze', 'King', 'Papp', 'Aquino', 'Farkas', 'Tóth', 'Piotrowski', 'Dabrowski', 'Taylor', 'Chiu', 'Kowalski', 'Jones', 'Rodríguez', 'Bernasconi', 'Lim', 'Ng', 'Soriano', 'Santiago', 'Ma', 'Szilágyi', 'Lakatos', 'Wu', 'Wright', 'Kaczmarek', 'Santos', 'Shengelia', 'Gómez', 'Suárez', 'Giovanni', 'Sánchez', 'Álvarez', 'Lee', 'Ravelli', 'Thompson', 'Crivelli', 'Wójcik', 'Park', 'Kozlowski', 'Cavadini', 'Cheung', 'Tsiklauri', 'Molnár', 'Sante', 'Domingo', 'Kwang', 'Baker', 'Martínez', 'Castillo', 'Pérez', 'Chu', 'Blanco', 'Thomas', 'Yoon', 'Lau', 'Perez', 'delos Santos', 'Mészáros', 'Johnson', 'Song', 'Ferrari', 'Piero', 'Cereghetti', 'Wilson', 'Francisco', 'Jankowski', 'Scott', 'Bautista', 'Oláh', 'Mamedovi', 'Lewis', 'Gelashvili', 'Kvaratskhelia', 'Kovács', 'Aliyev', 'Ho', 'Moore', 'Kwon', 'Mikeladze', 'Balogh', 'Jeon', 'Sanchez', 'Green', 'Cheng', 'Domínguez', 'Khutsishvili', 'Colombo', 'Juhász', ' Chan', 'Romero', 'Kapanadze', 'Lopez', 'Fernández', 'Ramos', 'Seo', 'Wojciechowski', 'Grabowski', 'White', 'Adams', 'Cruz', 'dela Cruz', 'Torres', 'Davis', 'Nozadze', 'Choi', 'Mun', 'Szymanski', 'Fekete', 'González', 'Williams', 'Fontana', 'Han', 'Ruiz', 'Liang', 'Mchedlishvili', 'Maisuradze', 'de Leon', 'Oh', 'Bianchi', 'Jeong', 'Wozniak', 'Flores', 'Gál', 'de Guzman', 'Rossi', 'Smith', 'Vásquez', 'Shin', 'Horváth', 'García', 'Zielinski', 'Alievi', 'Lewandowski', 'Kim', 'Rodriguez', 'Mendoza', 'Martinez', 'Suen', 'Hall', 'Tan', 'Balázs', 'Simon', 'Nagy', 'Lam', 'Török', 'Law']
MaleGivenNames = ['Narek', 'Hàorán', 'Franciszek', 'Roberts', 'Banele', 'Jonas', 'Aleks', 'Liam', 'Amine', 'Junaidi', 'David', 'Ismail', 'Artem', 'Viraj', 'Siphosethu', 'Ian', 'Sebastian', 'Míngzé', 'Mohamed', 'Matthew', 'Amir', 'Shivansh', 'Muhammad', 'Martin', 'Stanislaw', 'Dhruv', 'Danylo', 'Hayk', 'Hàoyu', 'Carlos', 'Noah', 'Daniels', 'Tigran', 'Karlis', 'Herman', 'Andriy', 'Henry', 'Antoni', 'Lucas', 'Lethabo', 'Dominykas', 'Dion', 'Ibrahim', 'Adin', 'Ofentse', 'Harun', 'Jacob', 'Lukas', 'Matas', 'Alteo', 'Krishna', 'Nathaniel', 'Nathan', 'Adrians', 'Juan', 'Mykhaylo', 'Melokuhle', 'Mateo', 'Wassim', 'Oleksandr', 'Ali', 'Thiago', 'Yìzé', 'Ayoub', 'Dylan', 'Szymon', 'Ahmed', 'Kiaan', 'Mulyadi', 'Emils', 'Suprianto', 'Benas', 'Lwandle', 'Dzan', 'Arjun', 'Ivan', 'Jakub', 'Mùyáng', 'Junior', 'Jan', 'Aron', 'Aarav', 'Lethokuhle', 'Kabir', 'Slamet', 'Sutrisno', 'Gabriel', 'Hamza', 'Mikayel', 'Mark', 'Hugo', 'Vladyslav', 'Ethan', 'Eithan', 'James', 'Daris', 'Roan', 'Oskar', 'Marks', 'Mikolaj', 'Davit', 'Joel', 'Amar', 'Ralfs', 'Benjamin', 'Maksym', 'Yuzé', 'Roel', 'Noel', 'Nikodem', 'Theodore', 'Adomas', 'Gustavs', 'Dmytro', 'Markas', 'Matías', 'Eman', 'Mùchén', 'Vedant', 'Jekabs', 'Lubanzi', 'Yìchén', 'Zion', 'Davud', 'Leon', 'Rasmus', 'Suparman', 'Jokubas', 'Monte', 'Herkus', 'Luis', 'Omphile', 'Areg', 'Kajus', 'Elijah', 'Areni', 'Youssef', 'Naïm', 'Ezekiel', 'Wahyudi', 'Robin', 'Angelo', 'William', 'Supardi', 'Aleksander', 'Younès', 'Yuxuan', 'Oliver']
FemaleGivenNames = ['Anahit', 'Lía', 'Anastasiya', 'Malak', 'Ajla', 'Samantha', 'Klea', 'Mariam', 'Sofia', 'Luna', 'Emilia', 'Mila', 'Amelja', 'Mari', 'Mariya', 'Althea', 'Aya', 'Lesedi', 'Hana', 'Rethabile', 'Nare', 'Inaya', 'Princess', 'Marta', 'Lian', 'Hur', 'Vamika', 'Assia', 'Lethabo', 'Alise', 'Isabella', 'Marie', 'Ema', 'Leandra', 'Lucija', 'Valentina', 'Aria', 'Sophia', 'Melokuhle', 'Esma', 'Melisa', 'Amayr', 'Lejla', 'Nur', 'Angel', 'Iminathi', 'Ava', 'Ruòxi', 'Asja', 'Yasmine', 'Yìhán', 'Mía', 'Ana', 'Aarya', 'Yinuò', 'Zihán', 'Angelina', 'Amaris', 'Arpi', 'Aditi', 'María', 'Emma', 'Olivia', 'Ambra', 'Yimò', 'Kiara', 'Andrea', 'Lisakhanya', 'Lethokuhle', 'Xinyí', 'Yeva', 'Lyn', 'Noûr', 'Far', 'Sofija', 'Chloe', 'Maryam', 'Viktoriya', 'Milana', 'Eva', 'Dalila', 'Amelija', 'Aadhya', 'Nika', 'Evelyn', 'Sofi', 'Charlotte', 'Oleksandra', 'Nora', 'Pari', 'Laura', 'Amelia', 'Darta', 'Jiya', 'Emily', 'Anna', 'Veronika', 'Hannah', 'Yutóng', 'Elza', 'Asemahle', 'Maria', 'Mia', 'Lea', 'Amina', 'Lamija', 'Sofiya', 'Fatima', 'Merjem', 'Camila', 'Omphile', 'Angela', 'Paula', 'Sofía', 'Amahle', 'Aïcha', 'Maria', 'Amira', 'Maneh', 'Solomiya', 'Mehar', 'Reina', 'Lena', 'Nathalie']
Nationalities = ['Philippines', 'Indonesia', 'India', 'Malaysia','Bulgaria','Hungary','Poland','Romania','Moldova','Slovakia','Albania','Estonia','Armenia','Ukraine','Georgia','Azerbaijan','Brazil','Peru','Chile','Argentina']
Departments = ['Engineering', 'Deck Crew', 'Food and Beverage', 'Housekeeping', 'Guest Relations', 'Entertainment']
Departmentprob = [0.10,0.05,0.35,0.30,0.10,0.10]
Sex=['M','F']
Haircolors = ['Brown','Black','Blond','Red','Grey']
Haircolorprob = [0.50,0.40,0.30,0.10,0.10]
Eyecolors = ['Br','Bl','Gn','Hz']
Eyecolorprob = [0.45,0.27,0.10,0.18]



#171 159

sd = (171-159)/2


#Male:	56.2 kg + 1.41 kg per inch over 5 feet
#Female:	53.1 kg + 1.36 kg per inch over 5 feet

#18.5*171**2/10000
#25.0*171**2/10000
#bmi 18.5 to 25


#random.uniform(2,10)

#datetime.now()-timedelta(days=365.25*(18+np.random.gamma(3,3)))


#random.choice(['male','female'])

def person():
    sex = random.choice(Sex)
    Surname = random.choice(Surnames)
    if sex == 'M':
        height = round(np.random.normal(171,sd))
        weight = round(random.uniform(18.5*height**2/10000,25.0*height**2/10000))
        givenname = random.choice(MaleGivenNames)
    else:
        height = round(np.random.normal(159,sd))
        weight = round(random.uniform(18.5*height**2/10000,25.0*height**2/10000))
        givenname = random.choice(FemaleGivenNames)
    eyecolor = random.choices(Eyecolors,weights=Eyecolorprob)[0] 
    haircolor = random.choices(Haircolors,weights=Haircolorprob)[0]
    nationality = random.choice(Nationalities)
    department = random.choices(Departments,Departmentprob)[0]
    surname = random.choice(Surnames)
    dateofbirth = datetime.now()-timedelta(days=365.25*(18+np.random.gamma(3,3)))
    return({'Surname':surname,'Givenname':givenname,'Dpt':department,'Nation':nationality,'Ht':height,'Wt':weight,'Sx':sex,'Eye':eyecolor,'DOB':dateofbirth.strftime("%Y/%m/%d"),'Hair':haircolor})

def displaycrewmember(lcd_screen,idx,crew):
    cm = crew[idx]
    with canvas(lcd_screen) as draw:
        draw.rectangle(lcd_screen.bounding_box, outline="black", fill="black")
        draw.text((1,0), 'Surname:'+''.join(np.repeat(' ',13-len(cm['Surname'])))+cm['Surname'], fill="white")
        draw.text((1,9), 'Givenname:'+''.join(np.repeat(' ',11-len(cm['Givenname'])))+cm['Givenname'], fill="white")
        draw.text((1,18),'Dpt:'+''.join(np.repeat(' ',17-len(cm['Dpt'])))+cm['Dpt'], fill="white")
        draw.text((1,27),'Nation:'+''.join(np.repeat(' ',14-len(cm['Nation'])))+cm['Nation'], fill="white")
        draw.text((1,36),'Ht:'+str(cm['Ht'])+'cm Wt:'+str(cm['Wt'])+'Kg Sx:'+cm['Sx'], fill="white")
        draw.text((1,45),'Eye:'+cm['Eye']+' DOB:'+cm['DOB'], fill="white")
        draw.text((1,54),'Hair:'+cm['Hair']+''.join(np.repeat(' ',14-len(cm['Hair'])-len(str(idx+1))-len(str(len(crew)))))+str(idx+1)+'of'+str(len(crew)), fill="white")

#   123456789012345678901
# 1 Surname:1234567890123
# 2 Givenname: 1234567890
# 3 Dpt:12345678901234567
# 4 Nation:   12345678901
# 5 Ht:123cm Wt:56Kg Sx:M
# 6 Eye:Br DOB:2022/07/23
# 7 Hair:Blond 1000of1500

import threading
import puzzle_functions
from importlib import reload
import numpy as np
from datetime import datetime
from datetime import timedelta
import random
from luma.core.render import canvas
from time import time, sleep, localtime   
   
def main(displays,switches,buttons,a_combo,b_combo):
    
    lcd_screen = displays[0]
    red_led = displays[1]
    
    switch_1 = switches[0]
    switch_2 = switches[1]
    switch_3 = switches[2]
    switch_4 = switches[3]
    switch_5 = switches[4]
    switch_6 = switches[5]
    switch_7 = switches[6]
    switch_8 = switches[7]
    switch_9 = switches[8]
    
    yellow_button = buttons[0]
    green_button  = buttons[1]
    blue_button   = buttons[2]
    black_button  = buttons[3]
    red_button    = buttons[4]
    white_button  = buttons[5]
    
    a_right  = a_combo[0]
    a_left   = a_combo[1]
    a_button = a_combo[2]
    b_right  = b_combo[0]
    b_left   = b_combo[1]
    b_button = b_combo[2]
    
    def lcd_text(text):
        with canvas(lcd_screen) as draw:
            draw.rectangle(lcd_screen.bounding_box, outline="white", fill="black")
            draw.text((10, 10), text, fill="white")
    crew = [person() for i in range(1,15)]
    for idx, crewmember in enumerate(crew):
        displaycrewmember(lcd_screen,idx,crew)
        sleep(1)
    
    
#   123456789012345678901
# 1 Surname:1234567890123
# 2 Givenname: 1234567890
# 3 Dpt:12345678901234567
# 4 Nation:   12345678901
# 5 Ht:123cm Wt:56Kg Sx:M
# 6 Eye:Br DOB:2022/07/23
# 7 Hair:Blond 1000of1500
    # for name in Surnames:
        # try:
            # lcd_text(name)
        # except Exception as inst:
            # print(type(inst))    # the exception type
            # print(inst.args)     # arguments stored in .args
            # print(inst)          # __str__ allows args to be printed directly,
    
    red_button.wait_for_press()
    lcd_text('\nYou WIN')
    
    sleep(1)



if __name__ == "__main__":
    from systemtest import red_led,lcd_screen,switches,buttons,a_combo,b_combo
    main(red_led,lcd_screen,switches,buttons,a_combo,b_combo)

